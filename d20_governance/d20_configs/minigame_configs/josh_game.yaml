game:
  title: "Minigame: Josh Fight"
  intro: "**Welcome Joshes!** Get ready for _The Josh Fight_, where you'll battle to claim the coveted title of the **Ultimate Josh**!\n\n
  To begin, submit your speech laying out your claim to joshdom using `/speech [message]`. You have 3 minutes to prepare. To see your current Josh name, type `/whichJosh`."

  stages:
      - stage: "Writes Speechs"
        message: "All Joshes have 3 minutes to submit their speech. Use `/speech [message]`."
        action: "countdown"
          # /speech is available during this time
          # would be nice to move to the next section if all speeches are submitted before this time        
        timeout_secs: 120

      - stage: "Submission Period"
        message: "A silence sweeps over Joshs. You have 1 minute to submit any remaining speeches or forever hold your peace."
        action: ["silence", "countdown"]
          # /speech is available during this time
        timeout_secs: 60
      
      - stage: "Deliberation"
        message: "A clamor of claims erupts. It is time to decide who amongst us is the real Josh. discuss and build consensus.\n\n
        If consensus is not reached only two will move forward. You have 3 minutes to deliberate"
          # what about ties? 
        action: ["post_speeches", "countdown"]
        timeout_secs: 180
      
      - stage: "Voting"
        message: "The Joshes have spoken. It is time to vote for the real Josh!.\n\n
        You have 30 seconds to vote."
        action: ['vote_speeches "Who is the real Josh?"', "countdown"]
          # add /silence function here
        timeout_secs: 30

      - stage: "Failed Consensus Obscurity"
        message: "The real Josh is still obscured from us. We need another round of speeches, deliberation, and voting to uncover the real Josh.\n\n
        Meanwhile, a blanket of obscurity bests our Joshs."
        action: "obscurity"
          # /speech is available during this time
          # /speech is only available to reamining candidates 
        timeout_secs: 0
        # TODO Add a condition if no single josh voted on move to this stage, else move to end

      - stage: "Write Speechs [Obscurity]"
        message: "The reamining candidates have 3 minutes to write and submit their speeches.\n\n
        Meanwhile, a blanket of obscurity bests our Joshs."
        action: ["clear_speeches", "countdown"]
          # /speech is available during this time
          # /speech is only available to reamining candidates 
        timeout_secs: 120

      - stage: "Submission Period [Obscurity]"
        message: "A silence sweeps over Joshs. You have 1 minute to submit any remaining speeches."
        action: ["silence", "countdown"]
          # add /silence
          # /speech is available during this time
        timeout_secs: 60
          # can this be a float? 30 seconds?

      - stage: "Deliberation [Obscurity]"
        message: "It's time to deliberate once more. Beware of impersonators trying to throw us off course.\n\n
        Work towards building consensus. This is necessary for the final decision. You have 3 minute to deliberate"
        action: ["post_speeches", "countdown"]
        timeout_secs: 180

      - stage: "Vote [Obscurity]"
        message: "It's time to vote! Let's build consensus and crown the real Josh. The fate of Josh rests in your collective hands.\n\n
        You have 30 seconds to vote."
        action: ['vote_speeches "Who is the real Josh?"', "countdown"]
          # add /silence
          # enforce consensus
        timeout_secs: 30
      
      - stage: "End"
        message: "And just like that, we return to the agora, a new Josh perhaps identified amongst the many."
        action: "dissolve"
        timeout_secs: 0
